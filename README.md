# Дипломный проект профессии «Тестировщик»
Данный проект представляет собой тестирование веб-сервиса покупки тура "Путешествие дня - Марракэш" (предоставленного в виде приложения). 
Приложение предлагает купить тур по определённой цене с помощью двух способов:
 1. Обычная оплата по дебетовой карте.
 2. Уникальная технология: выдача кредита по данным банковской карты.

Приложение в собственной СУБД сохраняет информацию о том, каким способом был совершён платёж и успешно ли он был совершён.

В рамках проекта составляется план тестирования. На основании плана создаются автотесты. Они проверяют позитивные и негативные сценарии покупки. Результаты тестов обрабатываются и визуализируются во внешней системе отчетов. На основании полученного отчета даются рекомендации по улучшению сервиса.

[Задание](https://github.com/netology-code/qa-diploma)

## Запуск SUT, авто-тестов и генерация репорта

### Подключение SUT к PostgreSQL

1. Запустить Docker Desktop
1. Открыть проект в IntelliJ IDEA
1. В терминале в корне проекта запустить контейнеры:

   `docker-compose up -d`
1. Запустить приложение:

   `java -jar .\artifacts\aqa-shop\aqa-shop.jar --spring.datasource.url=jdbc:postgresql://localhost:5432/app`
1. Открыть второй терминал
1. Запустить тесты:

   `.\gradlew clean test -DdbUrl=jdbc:postgresql://localhost:5432/app`
1. Создать отчёт Allure и открыть в браузере

   `.\gradlew allureServe`
1. Закрыть отчёт:

   **CTRL + C -> y -> Enter**
1. Перейти в первый терминал
1. Остановить приложение:

   **CTRL + C**
1. Остановить контейнеры:

   `docker-compose down`
   </a>

### Подключение SUT к MySQL

1. Запустить Docker Desktop
1. Открыть проект в IntelliJ IDEA
1. В терминале в корне проекта запустить контейнеры:

   `docker-compose up -d`
1. Запустить приложение:

   `java -jar .\artifacts\aqa-shop\aqa-shop.jar --spring.datasource.url=jdbc:mysql://localhost:3306/app`
1. Открыть второй терминал
1. Запустить тесты:

   `.\gradlew clean test -DdbUrl=jdbc:mysql://localhost:3306/app`
1. Создать отчёт Allure и открыть в браузере

   `.\gradlew allureServe`
1. Закрыть отчёт:

   **CTRL + C -> y -> Enter**
1. Перейти в первый терминал
1. Остановить приложение:

   **CTRL + C**
1. Остановить контейнеры:

   `docker-compose down`
   </a>

## Тестовая документация

1. [План тестирования](docs/Plan.md)

